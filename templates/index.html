<!DOCTYPE html>
<html>

<head>
  <title>Save form Data in a Text File using JavaScript</title>
  <style>
    * {
      box-sizing: border-box;
    }

    div {
      padding: 10px;
      background-color: #f6f6f6;
      overflow: hidden;
    }

    input[type=text],
    textarea,
    select {
      font: 17px Calibri;
      width: 100%;
      padding: 12px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }

    input[type=button] {
      font: 17px Calibri;
      width: auto;
      float: right;
      cursor: pointer;
      padding: 7px;
    }
  </style>
</head>

<body>
  <div>

    <!--Add few elements to the form-->
    
    <div>
      <input type="text" id="name" placeholder="Enter your name" />
    </div>
    <div>
      <input type="text" id="wakeup" placeholder="What do you do when you wake up?" />
    </div>
    <div>
      <input type="text" id="hobbies" placeholder="What are your hobbies" />
    </div>
    <div>
      <select id="ocupation">
        <option selected value="">-- Choose your ocupation --</option>
        <option value="HighSchool">High School</option>
        <option value="College">College</option>
        <option value="Work">Work</option>
      </select>
    </div>
    <div>
      <input type="text" id="work" placeholder="Where do you study/work" />
    </div>
    <div>
      <input type="text" id="sleep" placeholder="What do you do before going to sleep" />
    </div>
    <div>
      <input type="text" id="food" placeholder="What is your favorite food" />
    </div>
    <div>
      <input type="button" id="bt" value="Submit" onclick="saveFile()" />
    </div>
    
  </div>
</body>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script>

  let saveFile = () => {

    // Get the data from each element on the form.
    const name = document.getElementById('name');
    const wakeup = document.getElementById('wakeup');
    const hobbies = document.getElementById('hobbies');
    const food = document.getElementById('food');
    const work = document.getElementById('work');
    const sleep = document.getElementById('sleep');
    const ocupation = document.getElementById('ocupation');

    // This variable stores all the data.
    let data = [
      name.value,
      wakeup.value,
      hobbies.value,
      ocupation.value,
      work.value,
      sleep.value,
      food.value];
    $.ajax({
        type: "POST",
        url: "main.py",
    });
    
    // // Convert the text to BLOB.
    // const textToBLOB = new Blob([data], { type: 'text/plain' });
    // const sFileName = 'formData.txt';	   // The file to save the data.

    // let newLink = document.createElement("a");
    // newLink.download = sFileName;

    // if (window.webkitURL != null) {
    //   newLink.href = window.webkitURL.createObjectURL(textToBLOB);
    // }
    // else {
    //   newLink.href = window.URL.createObjectURL(textToBLOB);
    //   newLink.style.display = "none";
    //   document.body.appendChild(newLink);
    // }

    // newLink.click();
  }
</script>

</html>